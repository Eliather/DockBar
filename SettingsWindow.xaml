<Window x:Class="DockBar.SettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:conv="clr-namespace:DockBar.Converters"
        xmlns:local="clr-namespace:DockBar"
        Title="{local:Loc Key=Settings_Title}"
        SizeToContent="Height"
        Width="500"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize"
        Background="{Binding SettingsBackgroundBrush}"
        Foreground="{Binding TextBrush}">
    <Window.Resources>
        <conv:InverseBoolConverter x:Key="InverseBoolConverter"/>
        <Style TargetType="TextBlock">
            <Setter Property="Foreground" Value="{Binding TextBrush, RelativeSource={RelativeSource AncestorType=Window}}"/>
        </Style>
        <Style TargetType="CheckBox">
            <Setter Property="Foreground" Value="{Binding TextBrush, RelativeSource={RelativeSource AncestorType=Window}}"/>
        </Style>
        <Style TargetType="RadioButton">
            <Setter Property="Foreground" Value="{Binding TextBrush, RelativeSource={RelativeSource AncestorType=Window}}"/>
        </Style>
        <Style TargetType="Label">
            <Setter Property="Foreground" Value="{Binding TextBrush, RelativeSource={RelativeSource AncestorType=Window}}"/>
        </Style>
    </Window.Resources>
    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <StackPanel Margin="14,14,24,14" Orientation="Vertical">
            <TextBlock Text="{local:Loc Key=Settings_Size}" FontWeight="SemiBold" Margin="0,0,0,6"/>
            <StackPanel Orientation="Vertical">
                <TextBlock Text="{local:Loc Key=Settings_DockWidth}" />
                <StackPanel Orientation="Horizontal">
                    <Slider x:Name="WidthSlider"
                            Minimum="175"
                            Maximum="640"
                            Value="{Binding Config.DockWidth, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                            Width="240"
                            Margin="6,0,0,0"
                            ValueChanged="NumericSettingChanged" />
                    <TextBox Width="60"
                             Margin="6,0,0,0"
                             VerticalContentAlignment="Center"
                             Text="{Binding Config.DockWidth, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, StringFormat=F0}"
                             PreviewTextInput="NumericTextBox_PreviewTextInput"
                             LostFocus="NumericTextBox_LostFocus"
                             DataObject.Pasting="NumericTextBox_Pasting"
                             Tag="175|640"/>
                </StackPanel>

                <TextBlock Text="{local:Loc Key=Settings_IconSize}" Margin="0,10,0,0"/>
                <StackPanel Orientation="Horizontal">
                    <Slider x:Name="IconSlider"
                            Minimum="16"
                            Maximum="96"
                            Value="{Binding Config.IconSize, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                            Width="240"
                            Margin="6,0,0,0"
                            ValueChanged="NumericSettingChanged" />
                    <TextBox Width="60"
                             Margin="6,0,0,0"
                             VerticalContentAlignment="Center"
                             Text="{Binding Config.IconSize, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, StringFormat=F0}"
                             PreviewTextInput="NumericTextBox_PreviewTextInput"
                             LostFocus="NumericTextBox_LostFocus"
                             DataObject.Pasting="NumericTextBox_Pasting"
                             Tag="16|96"/>
                </StackPanel>
            </StackPanel>

            <TextBlock Text="{local:Loc Key=Settings_AutoHide}" FontWeight="SemiBold" Margin="0,12,0,6"/>
            <StackPanel Orientation="Vertical">
                <TextBlock Text="{local:Loc Key=Settings_HideDelay}" />
                <StackPanel Orientation="Horizontal">
                    <Slider x:Name="DelaySlider"
                            Minimum="0"
                            Maximum="10"
                            Value="{Binding Config.AutoHideDelaySeconds, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                            Width="240"
                            Margin="6,0,0,0"
                            ValueChanged="NumericSettingChanged" />
                    <TextBox Width="60"
                             Margin="6,0,0,0"
                             VerticalContentAlignment="Center"
                             Text="{Binding Config.AutoHideDelaySeconds, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, StringFormat=F1}"
                             PreviewTextInput="NumericTextBox_PreviewTextInput"
                             LostFocus="NumericTextBox_LostFocus"
                             DataObject.Pasting="NumericTextBox_Pasting"
                             Tag="0|10"/>
                </StackPanel>

                <TextBlock Text="{local:Loc Key=Settings_AnimDuration}" Margin="0,10,0,0"/>
                <StackPanel Orientation="Horizontal">
                    <Slider x:Name="AnimSlider"
                            Minimum="50"
                            Maximum="800"
                            Value="{Binding Config.HideAnimationMs, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                            Width="240"
                            Margin="6,0,0,0"
                            ValueChanged="NumericSettingChanged" />
                    <TextBox Width="60"
                             Margin="6,0,0,0"
                             VerticalContentAlignment="Center"
                             Text="{Binding Config.HideAnimationMs, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, StringFormat=F0}"
                             PreviewTextInput="NumericTextBox_PreviewTextInput"
                             LostFocus="NumericTextBox_LostFocus"
                             DataObject.Pasting="NumericTextBox_Pasting"
                             Tag="50|800"/>
                </StackPanel>

                <CheckBox Content="{local:Loc Key=Settings_AutoStart}"
                          Margin="0,10,0,0"
                          IsChecked="{Binding Config.AutoStartEnabled, Mode=TwoWay}" />
            </StackPanel>

            <TextBlock Text="{local:Loc Key=Settings_ColorTransparency}" FontWeight="SemiBold" Margin="0,12,0,6"/>
            <StackPanel Orientation="Vertical">
                <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                    <CheckBox Content="{local:Loc Key=Settings_UseTransparency}"
                              IsChecked="{Binding Config.UseTransparency, Mode=TwoWay}"
                              Checked="TransparencyToggled"
                              Unchecked="TransparencyToggled" />
                    <StackPanel Orientation="Horizontal" VerticalAlignment="Center" Margin="10,0,0,0">
                        <TextBlock Text="{local:Loc Key=Settings_Opacity}" />
                        <Slider x:Name="OpacitySlider"
                                Minimum="0.2"
                                Maximum="1"
                                Value="{Binding Config.BackgroundOpacity, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                Width="140"
                                Margin="6,0,0,0"
                                IsEnabled="{Binding Config.UseTransparency}"
                                ValueChanged="ColorComponentChanged" />
                        <TextBlock VerticalAlignment="Center"
                                   Text="{Binding ElementName=OpacitySlider, Path=Value, StringFormat=F2}" />
                    </StackPanel>
                </StackPanel>

                <TextBlock Text="{local:Loc Key=Settings_ColorPicker}" Margin="0,10,0,0" />

                <Grid Margin="0,4,0,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="12"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    <Border x:Name="SatValBorder"
                            Grid.Column="0"
                            Width="220"
                            Height="180"
                            Background="{Binding HueBrush}"
                            BorderThickness="1"
                            BorderBrush="#444"
                            Loaded="SatValBorder_Loaded"
                            SizeChanged="SatValBorder_SizeChanged">
                        <Grid>
                            <Rectangle>
                                <Rectangle.Fill>
                                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                                        <GradientStop Color="White" Offset="0"/>
                                        <GradientStop Color="#00FFFFFF" Offset="1"/>
                                    </LinearGradientBrush>
                                </Rectangle.Fill>
                            </Rectangle>
                            <Rectangle>
                                <Rectangle.Fill>
                                    <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                                        <GradientStop Color="#00FFFFFF" Offset="0"/>
                                        <GradientStop Color="#CC000000" Offset="1"/>
                                    </LinearGradientBrush>
                                </Rectangle.Fill>
                            </Rectangle>
                            <Canvas x:Name="SatValCanvas"
                                    Background="Transparent"
                                    MouseDown="SatValCanvas_MouseDown"
                                    MouseMove="SatValCanvas_MouseMove">
                                <Ellipse x:Name="SatValThumb"
                                         Width="12"
                                         Height="12"
                                         Stroke="White"
                                         StrokeThickness="2"
                                         Fill="Transparent"
                                         Effect="{x:Null}"/>
                            </Canvas>
                        </Grid>
                    </Border>

                    <Slider x:Name="HueSlider"
                            Grid.Column="2"
                            Orientation="Vertical"
                            Minimum="0"
                            Maximum="360"
                            Height="180"
                            Margin="0,0,0,0"
                            Value="{Binding Hue, Mode=TwoWay}"
                            ValueChanged="HueSlider_ValueChanged">
                        <Slider.Background>
                            <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                                <GradientStop Color="#FFFF0000" Offset="0.0"/>
                                <GradientStop Color="#FFFF00FF" Offset="0.17"/>
                                <GradientStop Color="#FF0000FF" Offset="0.34"/>
                                <GradientStop Color="#FF00FFFF" Offset="0.50"/>
                                <GradientStop Color="#FF00FF00" Offset="0.67"/>
                                <GradientStop Color="#FFFFFF00" Offset="0.84"/>
                                <GradientStop Color="#FFFF0000" Offset="1.0"/>
                            </LinearGradientBrush>
                        </Slider.Background>
                    </Slider>
                </Grid>

                <StackPanel Orientation="Horizontal" VerticalAlignment="Center" Margin="0,8,0,0">
                    <Rectangle Width="52" Height="52" Stroke="#444" Fill="{Binding PreviewBrush}" RadiusX="6" RadiusY="6"/>
                    <TextBox x:Name="HexBox"
                             Width="110"
                             Margin="8,0,0,0"
                             Text="{Binding HexInput, UpdateSourceTrigger=PropertyChanged}"
                             MaxLength="7"
                             VerticalContentAlignment="Center"
                             LostFocus="HexBox_LostFocus"
                             KeyDown="HexBox_KeyDown"/>
                    <TextBlock VerticalAlignment="Center" Margin="8,0,0,0" Text="{Binding HexColor}" FontWeight="SemiBold"/>
                </StackPanel>

                <UniformGrid Rows="2" Columns="10" Margin="0,8,0,0">
                    <Button Background="#000000" Tag="#000000" Click="Swatch_Click" />
                    <Button Background="#333333" Tag="#333333" Click="Swatch_Click" />
                    <Button Background="#666666" Tag="#666666" Click="Swatch_Click" />
                    <Button Background="#999999" Tag="#999999" Click="Swatch_Click" />
                    <Button Background="#CCCCCC" Tag="#CCCCCC" Click="Swatch_Click" />
                    <Button Background="#FFFFFF" Tag="#FFFFFF" Click="Swatch_Click" />
                    <Button Background="#E53935" Tag="#E53935" Click="Swatch_Click" />
                    <Button Background="#FDD835" Tag="#FDD835" Click="Swatch_Click" />
                    <Button Background="#43A047" Tag="#43A047" Click="Swatch_Click" />
                    <Button Background="#1E88E5" Tag="#1E88E5" Click="Swatch_Click" />

                    <Button Background="#5E35B1" Tag="#5E35B1" Click="Swatch_Click" />
                    <Button Background="#8E24AA" Tag="#8E24AA" Click="Swatch_Click" />
                    <Button Background="#FFB300" Tag="#FFB300" Click="Swatch_Click" />
                    <Button Background="#00ACC1" Tag="#00ACC1" Click="Swatch_Click" />
                    <Button Background="#00897B" Tag="#00897B" Click="Swatch_Click" />
                    <Button Background="#6D4C41" Tag="#6D4C41" Click="Swatch_Click" />
                    <Button Background="#EF6C00" Tag="#EF6C00" Click="Swatch_Click" />
                    <Button Background="#C2185B" Tag="#C2185B" Click="Swatch_Click" />
                    <Button Background="#607D8B" Tag="#607D8B" Click="Swatch_Click" />
                    <Button Background="#00B8D4" Tag="#00B8D4" Click="Swatch_Click" />
                </UniformGrid>

                <StackPanel Orientation="Horizontal" Margin="0,10,0,0" VerticalAlignment="Center">
                    <TextBlock Text="{local:Loc Key=Settings_TextColor}" VerticalAlignment="Center" Margin="0,0,8,0"/>
                    <RadioButton Content="{local:Loc Key=Settings_TextLight}" IsChecked="{Binding Config.UseLightText, Mode=TwoWay}" GroupName="TextColor" Checked="TextColorChanged"/>
                    <RadioButton Content="{local:Loc Key=Settings_TextDark}" Margin="8,0,0,0" IsChecked="{Binding Config.UseLightText, Mode=TwoWay, Converter={StaticResource InverseBoolConverter}}" GroupName="TextColor" Checked="TextColorChanged"/>
                </StackPanel>
            </StackPanel>
            <Grid Margin="0,10,0,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <Button Content="{local:Loc Key=Common_About}" Click="About_Click" Grid.Column="0"/>
                <StackPanel Grid.Column="2" Orientation="Horizontal" HorizontalAlignment="Right">
                    <Button Content="{local:Loc Key=Settings_DefaultConfig}" Click="PresetWin8_Click" Margin="0,0,6,0"/>
                    <Button Content="{local:Loc Key=Common_Cancel}" IsCancel="True" Margin="0,0,6,0"/>
                    <Button Content="{local:Loc Key=Common_Save}" IsDefault="True" Click="Save_Click" />
                </StackPanel>
            </Grid>
        </StackPanel>
    </ScrollViewer>
</Window>




